{% extends 'base.html' %}

{% block page_header %}
<h1 class='h3 fw-bold text-danger'>
    <i class='fa fa-times-circle me-2'></i>Payment Failed
</h1>
{% endblock %}

{% block content %}
<div class='row justify-content-center'>
    <div class='col-lg-8'>
        <div class='card border-danger'>
            <div class='card-body text-center py-5'>
                <div class='mb-4'>
                    <i class='fa fa-times-circle text-danger' style='font-size: 4rem;'></i>
                </div>
                <h2 class='text-danger mb-3'>Payment Failed</h2>
                <p class='text-muted mb-4'>We're sorry, but your payment could not be processed.</p>
                
                <div class='row text-start'>
                    <div class='col-md-6'>
                        <h5>Order Details</h5>
                        <p><strong>Order ID:</strong> #{{ order.id }}</p>
                        <p><strong>Customer:</strong> {{ order.name }}</p>
                        <p><strong>Phone:</strong> {{ order.phone }}</p>
                        <p><strong>Total Amount:</strong> à§³{{ order.total }}</p>
                    </div>
                    <div class='col-md-6'>
                        <h5>Payment Status</h5>
                        <p><strong>Payment Method:</strong> Online Payment</p>
                        <p><strong>Status:</strong> <span class='badge bg-danger'>Failed</span></p>
                        <p><strong>Date:</strong> {{ order.created_at|date:"M d, Y H:i" }}</p>
                    </div>
                </div>
                
                <div class='alert alert-warning mt-4'>
                    <h5><i class='fa fa-info-circle me-2'></i>What to do next?</h5>
                    <ul class='text-start mb-0'>
                        <li>Check your payment method and try again</li>
                        <li>Contact your bank if the issue persists</li>
                        <li>Choose Cash on Delivery (COD) for easier payment</li>
                    </ul>
                </div>
                
                <div class='mt-4'>
                    <a href='{% url "orders:process_payment" order.id %}' class='btn btn-primary btn-lg me-3'>
                        <i class='fa fa-credit-card me-2'></i>Try Payment Again
                    </a>
                    <a href='/' class='btn btn-outline-secondary btn-lg'>
                        <i class='fa fa-home me-2'></i>Back to Home
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
